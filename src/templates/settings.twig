{% import "_includes/forms" as forms %}

{{
    forms.textField({
        name: 'menuItemName',
        value: settings.menuItemName ?? 'Emails'|t('emails'),
        required: true,
        errors: errors['menuItemName'] ?? [],
        fieldClass: 'first',
        label: 'Menu item label'
    })
}}

{{
    forms.checkboxSelectField({
        label: 'Config driven parameters'|t('themes'),
        instructions: "These email parameters will be considered configuration (they won't be available to modify on environments when config changes are disabled)",
        options: settings.configDrivenOptions,
        values: settings.configDriven,
        name: 'configDriven'
    })
}}

{{ forms.autosuggestField({
    label: 'Mailchimp API Key'|t('emails'),
    type: 'text',
    name: 'mailchimpApiKey',
    value: settings.mailchimpApiKey,
    suggestEnvVars: true,
    errors: errors['mailchimpApiKey'] ?? []
}) }}

{{ forms.textField({
    label: 'Mailchimp Cache duration'|t('emails'),
    type: 'number',
    instructions: '0 means forever'|t('emails'),
    min: 0,
    unit: 'minutes'|t('emails'),
    name: 'mailchimpCacheDuration',
    value: settings.mailchimpCacheDuration,
    errors: errors['mailchimpCacheDuration'] ?? []
}) }}